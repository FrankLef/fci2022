<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Fundamentals of Causal Inference 2022 - Study Project - 7&nbsp; Difference-in-Differences Estimators</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./ch08_frontdoor.html" rel="next">
<link href="./ch06_backdoor.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./part02.html">Part II Causality</a></li><li class="breadcrumb-item"><a href="./ch07_did.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Difference-in-Differences Estimators</span></a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Fundamentals of Causal Inference 2022 - Study Project</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part I Basics</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch01_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch02_probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Conditional Probability and Expectation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch03_outcomes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Potential Outcomes and the Fundamental Problem of Causal Inference</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch04_measures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Effect-Measure Modification and Causal Interaction</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch05_dag.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Causal Directed Acyclic Graphs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./part02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Part II Causality</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch06_backdoor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Backdoor Method via Standardization</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch07_did.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Difference-in-Differences Estimators</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch08_frontdoor.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Front-Door Method</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch09_instrument.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Instrumental Variables</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ch10_propensity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Propensity-Score Methods</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app01_errata.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Errata</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app02_notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Notes</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app03_linreg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Linear Regression with R</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./app04_simdr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Doubly Robust Simulation</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#difference-in-differences-did-estimators" id="toc-difference-in-differences-did-estimators" class="nav-link active" data-scroll-target="#difference-in-differences-did-estimators"><span class="header-section-number">7.1</span> Difference-in-Differences (DiD) Estimators</a>
  <ul class="collapse">
  <li><a href="#did-estimator-with-a-linear-model" id="toc-did-estimator-with-a-linear-model" class="nav-link" data-scroll-target="#did-estimator-with-a-linear-model"><span class="header-section-number">7.1.1</span> DiD Estimator with a Linear Model</a></li>
  <li><a href="#did-estimator-with-a-loglinear-model" id="toc-did-estimator-with-a-loglinear-model" class="nav-link" data-scroll-target="#did-estimator-with-a-loglinear-model"><span class="header-section-number">7.1.2</span> DiD Estimator with a Loglinear Model</a></li>
  <li><a href="#did-estimator-with-a-logistic-model" id="toc-did-estimator-with-a-logistic-model" class="nav-link" data-scroll-target="#did-estimator-with-a-logistic-model"><span class="header-section-number">7.1.3</span> DiD Estimator with a Logistic Model</a></li>
  </ul></li>
  <li><a href="#comparison-with-standardization" id="toc-comparison-with-standardization" class="nav-link" data-scroll-target="#comparison-with-standardization"><span class="header-section-number">7.2</span> Comparison with Standardization</a>
  <ul class="collapse">
  <li><a href="#doublewhatifdat" id="toc-doublewhatifdat" class="nav-link" data-scroll-target="#doublewhatifdat"><span class="header-section-number">7.2.1</span> <code>doublewhatifdat</code></a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="did" class="quarto-section-identifier"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Difference-in-Differences Estimators</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(conflicted)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fciR)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">dplyr.summarise.inform =</span> <span class="cn">FALSE</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">conflicts_prefer</span>(dplyr<span class="sc">::</span>filter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>[conflicted] Will prefer dplyr::filter over any other package.</code></pre>
</div>
</div>
<section id="difference-in-differences-did-estimators" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="difference-in-differences-did-estimators"><span class="header-section-number">7.1</span> Difference-in-Differences (DiD) Estimators</h2>
<section id="did-estimator-with-a-linear-model" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="did-estimator-with-a-linear-model"><span class="header-section-number">7.1.1</span> DiD Estimator with a Linear Model</h3>
<blockquote class="blockquote">
<p>The method relies on consistency as well as assumption A1:</p>
</blockquote>
<p><span class="math display">\[
\begin{align*}
&amp;E(Y_1(0) \mid A=1) - E(Y_1(0) \mid A=1) = \\
&amp;E(Y_0(0) \mid A=1) - E(Y_0(0) \mid A=1)
\end{align*}
\]</span></p>
<p>That assumption is interpreted as : If assume that no treatment was applied in “year” 1 (nothing happened in year 1) than we have the same results as in the base “year”.</p>
<blockquote class="blockquote">
<p>also called <strong>additive equi-confounding</strong> […]. The target of estimation is the linear ATT presented in chapter 6 as a risk difference</p>
</blockquote>
<p><span class="math display">\[
\text{Linear ATT:} \: E(Y_1(1) - Y_1(0) \mid A=1)
\]</span></p>
<p>which is interpreted as *what is the the average difference between <span class="math inline">\(Y_1(1)\)</span> and <span class="math inline">\(Y_1(0)\)</span> if they all treated. For the example of the bank’s NIM, what is the average difference between the banks’ NIM in NIRP ad non-NIRP economy assuming they are all subjected to the NIRP policy, that is wihout the impact of the NIRP policy.</p>
<p>and we have</p>
<p><span class="math display">\[
\begin{align*}
&amp; E(Y_1(1) - Y_1(0)) \mid A=1) = \\
&amp; E(Y_1(1) \mid A=1) - E(Y_1(0) \mid A=1) = \\
&amp; [E(Y_1(1) \mid A=1) - E(Y_1(0) \mid A=1)] - [E(Y_1(0) \mid A=0) - E(Y_1(0) \mid A=0)] = \\
&amp; [E(Y_1(1) \mid A=1) - E(Y_1(0) \mid A=0)] - [E(Y_1(0) \mid A=1) - E(Y_1(0) \mid A=0)] = \\
&amp;\text{consistency assumption} \\
&amp; [E(Y_1 \mid A=1) - E(Y_1 \mid A=0)] - [E(Y_1(0) \mid A=1) - E(Y_1(0) \mid A=0)] = \\
&amp;\text{assumption A1, additive equi-confounding} \\
&amp;\text{i.e. assuming that if nothing happens in year 1, then we can use the results of year 0} \\
&amp; [E(Y_1 \mid A=1) - E(Y_1 \mid A=0)] - [E(Y_0 \mid A=1) - E(Y_0 \mid A=0)]
\end{align*}
\]</span></p>
<blockquote class="blockquote">
<p>we can therefore estimate the linear ATT via the difference in differences of averages</p>
</blockquote>
<p><span class="math display">\[
\begin{align*}
&amp;[\hat{E}(Y_1 \mid A=1) - \hat{E}(Y_1 \mid A=0)] - [\hat{E}(Y_0 \mid A=1) - \hat{E}(Y_0 \mid A=0)]= \\
&amp;[\hat{E}(Y_1 \mid A=1) - \hat{E}(Y_0 \mid A=1)] - [\hat{E}(Y_1 \mid A=0) - \hat{E}(Y_0 \mid A=0)]= \\
&amp;[\hat{E}(Y_1 - Y_0 \mid A=1)] - [\hat{E}(Y_1 - Y_0 \mid A=0)]
\end{align*}
\]</span></p>
<blockquote class="blockquote">
<p>We can also compute the DiD via the linear model</p>
</blockquote>
<p><span class="math display">\[
E(Y_t \mid A) = \alpha_0 + \alpha_1 t + \alpha_2 A + \beta A * t
\]</span></p>
<p>and therefore</p>
<p><span class="math display">\[
\begin{align*}
\beta &amp;= [E(Y_1 \mid A=1) - E(Y_0 \mid A=1)] - [E(Y_1 \mid A=0) - E(Y_0 \mid A=0)] \\
&amp;= (\alpha_0 + \alpha_1 + \alpha_2 + \beta) - (\alpha_0 + \alpha_2) -
((\alpha_0 + \alpha_2) - (\alpha_0))
\end{align*}
\]</span></p>
<blockquote class="blockquote">
<p>As we can estimate <span class="math inline">\(E(Y(1) \mid A=1)\)</span> directly via <span class="math inline">\(E(Y_1 \mid A=1)\)</span>, we can also recover <span class="math inline">\(E(Y(0) \mid A=1)\)</span> via <span class="math inline">\(E(Y_1 \mid A=1) - \beta\)</span></p>
</blockquote>
<p>because from above we have</p>
<p><span class="math display">\[
\begin{align*}
\beta &amp;= E(Y_1(1) - Y_1(0)) \mid A=1) \\
&amp;= E(Y_1(1) \mid A=1) - E(Y_1(0) \mid A=1) \\
&amp;= E(Y_1 \mid A=1) - E(Y_1(0) \mid A=1) \\
&amp;\therefore \\
E(Y_1(0) \mid A=1)&amp; = E(Y_1 \mid A=1) - \beta
\end{align*}
\]</span></p>
</section>
<section id="did-estimator-with-a-loglinear-model" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="did-estimator-with-a-loglinear-model"><span class="header-section-number">7.1.2</span> DiD Estimator with a Loglinear Model</h3>
<blockquote class="blockquote">
<p>The method relies on consistency as well as assumption A2:</p>
</blockquote>
<p><span class="math display">\[
\begin{align*}
\frac{E(Y_1(0) \mid A=1)}{E(Y_1(0) \mid A=1)} =
\frac{E(Y_0(0) \mid A=1)}{E(Y_0(0) \mid A=1)}
\end{align*}
\]</span></p>
</section>
<section id="did-estimator-with-a-logistic-model" class="level3" data-number="7.1.3">
<h3 data-number="7.1.3" class="anchored" data-anchor-id="did-estimator-with-a-logistic-model"><span class="header-section-number">7.1.3</span> DiD Estimator with a Logistic Model</h3>
<blockquote class="blockquote">
<p>The method relies on consistency as well as assumption A3:</p>
</blockquote>
<p><span class="math display">\[
\begin{align*}
logit(E(Y_1(0) \mid A=1)) - logit(E(Y_1(0) \mid A=1)) =
logit(E(Y_0(0) \mid A=1)) - logit(E(Y_0(0) \mid A=1))
\end{align*}
\]</span></p>
</section>
</section>
<section id="comparison-with-standardization" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="comparison-with-standardization"><span class="header-section-number">7.2</span> Comparison with Standardization</h2>
<p>The functions used for DID estimations are <code>fciR::did_linear()</code>, <code>fciR::did_loglinear</code> and <code>fciR::logistic</code>.</p>
<section id="doublewhatifdat" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="doublewhatifdat"><span class="header-section-number">7.2.1</span> <code>doublewhatifdat</code></h3>
<p>The DiD estimator with the linear model</p>
<div class="cell" data-hash="ch07_did_cache/html/ch07_dwhatif_did_lin_fdafaf27ebd9d10b2f1e7c112fc3561b">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dwhatif.did.lin <span class="ot">&lt;-</span> fciR<span class="sc">::</span><span class="fu">boot_est</span>(</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    doublewhatifdat, <span class="at">func =</span> fciR<span class="sc">::</span>did_linear,</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">times =</span> <span class="dv">100</span>, <span class="at">alpha =</span> <span class="fl">0.05</span>, <span class="at">transf =</span> <span class="st">"exp"</span>,</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"EY0A1"</span>, <span class="st">"EY1"</span>, <span class="st">"RD"</span>, <span class="st">"RR"</span>, <span class="st">"RR*"</span>, <span class="st">"OR"</span>),</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> VL1 <span class="sc">~</span> A <span class="sc">+</span> VL0, <span class="at">exposure.name =</span> <span class="st">"A"</span>, <span class="at">confound.names =</span> <span class="st">"VL0"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The DiD estimator with the loglinear model</p>
<div class="cell" data-hash="ch07_did_cache/html/ch07_dwhatif_did_loglin_f8dc848f7bd4de4cc524eccb6d827bdb">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>dwhatif.did.loglin <span class="ot">&lt;-</span> fciR<span class="sc">::</span><span class="fu">boot_est</span>(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    doublewhatifdat, <span class="at">func =</span> fciR<span class="sc">::</span>did_loglinear,</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">times =</span> <span class="dv">100</span>, <span class="at">alpha =</span> <span class="fl">0.05</span>, <span class="at">transf =</span> <span class="st">"exp"</span>,</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"EY0A1"</span>, <span class="st">"EY1"</span>, <span class="st">"RD"</span>, <span class="st">"RR"</span>, <span class="st">"RR*"</span>, <span class="st">"OR"</span>),</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> VL1 <span class="sc">~</span> A <span class="sc">+</span> VL0, <span class="at">exposure.name =</span> <span class="st">"A"</span>, <span class="at">confound.names =</span> <span class="st">"VL0"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The DiD estimator with the logistic model</p>
<div class="cell" data-hash="ch07_did_cache/html/ch07_dwhatif_did_logit_0afacfbb617f5244057aac1598427eaf">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>dwhatif.did.logit <span class="ot">&lt;-</span> fciR<span class="sc">::</span><span class="fu">boot_est</span>(</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>    doublewhatifdat, <span class="at">func =</span> fciR<span class="sc">::</span>did_logistic,</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">times =</span> <span class="dv">100</span>, <span class="at">alpha =</span> <span class="fl">0.05</span>, <span class="at">transf =</span> <span class="st">"exp"</span>,</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">terms =</span> <span class="fu">c</span>(<span class="st">"EY0A1"</span>, <span class="st">"EY1"</span>, <span class="st">"RD"</span>, <span class="st">"RR"</span>, <span class="st">"RR*"</span>, <span class="st">"OR"</span>),</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">formula =</span> VL1 <span class="sc">~</span> A <span class="sc">+</span> VL0, <span class="at">exposure.name =</span> <span class="st">"A"</span>, <span class="at">confound.names =</span> <span class="st">"VL0"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>verify the results</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(<span class="st">"fci_tbl_07_02"</span>, <span class="at">package =</span> <span class="st">"fciR"</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>bb_dwhatif <span class="ot">&lt;-</span> fci_tbl_07_02</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>bb_dwhatif</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       model       term  Truth .estimate .lower .upper .alpha .method
1        All E(VL1|A=1)  0.199     0.231  0.179  0.282   0.05    norm
2     Linear      EY0A1  0.559     0.586  0.508  0.664   0.05    norm
3  Loglinear      EY0A1  0.559     0.577  0.498  0.656   0.05    norm
4   Logistic      EY0A1  0.559     0.592  0.513  0.671   0.05    norm
5     Linear         RD -0.360    -0.355 -0.441 -0.270   0.05    norm
6  Loglinear         RD -0.360    -0.346 -0.431 -0.262   0.05    norm
7   Logistic         RD -0.360    -0.362 -0.447 -0.276   0.05    norm
8     Linear         RR  0.356     0.394  0.309  0.500   0.05    norm
9  Loglinear         RR  0.356     0.400  0.315  0.508   0.05    norm
10  Logistic         RR  0.356     0.390  0.306  0.496   0.05    norm
11    Linear         OR  0.196     0.212  0.142  0.315   0.05    norm
12 Loglinear         OR  0.196     0.220  0.149  0.325   0.05    norm
13  Logistic         OR  0.196     0.206  0.139  0.307   0.05    norm</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_measures_rowgrp</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    bb_dwhatif, </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">rowgroup =</span> <span class="st">"term"</span>,</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">rowname =</span> <span class="st">"model"</span>,</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Table 7.2"</span>, <span class="st">"Double What-If Study"</span>), </span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Difference-in-Differences Estimation of the ATT"</span>,</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>                     <span class="at">sep =</span> <span class="st">"&lt;br&gt;"</span>)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div id="tbl-ch07_02" class="anchored">

<div id="xpjnuueabe" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#xpjnuueabe table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#xpjnuueabe thead, #xpjnuueabe tbody, #xpjnuueabe tfoot, #xpjnuueabe tr, #xpjnuueabe td, #xpjnuueabe th {
  border-style: none;
}

#xpjnuueabe p {
  margin: 0;
  padding: 0;
}

#xpjnuueabe .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#xpjnuueabe .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#xpjnuueabe .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#xpjnuueabe .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: bold;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#xpjnuueabe .gt_heading {
  background-color: #DCDCDC;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xpjnuueabe .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpjnuueabe .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#xpjnuueabe .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#xpjnuueabe .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#xpjnuueabe .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#xpjnuueabe .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#xpjnuueabe .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#xpjnuueabe .gt_spanner_row {
  border-bottom-style: hidden;
}

#xpjnuueabe .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#xpjnuueabe .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#xpjnuueabe .gt_from_md > :first-child {
  margin-top: 0;
}

#xpjnuueabe .gt_from_md > :last-child {
  margin-bottom: 0;
}

#xpjnuueabe .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#xpjnuueabe .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#xpjnuueabe .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#xpjnuueabe .gt_row_group_first td {
  border-top-width: 2px;
}

#xpjnuueabe .gt_row_group_first th {
  border-top-width: 2px;
}

#xpjnuueabe .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpjnuueabe .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#xpjnuueabe .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#xpjnuueabe .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpjnuueabe .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpjnuueabe .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#xpjnuueabe .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#xpjnuueabe .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#xpjnuueabe .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#xpjnuueabe .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xpjnuueabe .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpjnuueabe .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#xpjnuueabe .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#xpjnuueabe .gt_left {
  text-align: left;
}

#xpjnuueabe .gt_center {
  text-align: center;
}

#xpjnuueabe .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#xpjnuueabe .gt_font_normal {
  font-weight: normal;
}

#xpjnuueabe .gt_font_bold {
  font-weight: bold;
}

#xpjnuueabe .gt_font_italic {
  font-style: italic;
}

#xpjnuueabe .gt_super {
  font-size: 65%;
}

#xpjnuueabe .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#xpjnuueabe .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#xpjnuueabe .gt_indent_1 {
  text-indent: 5px;
}

#xpjnuueabe .gt_indent_2 {
  text-indent: 10px;
}

#xpjnuueabe .gt_indent_3 {
  text-indent: 15px;
}

#xpjnuueabe .gt_indent_4 {
  text-indent: 20px;
}

#xpjnuueabe .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false"><caption>Table&nbsp;7.1:  <p>Table 7.2</p> </caption>
  <thead>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_title gt_font_normal" style="color: #191970;"><strong>Table 7.2 Double What-If Study</strong></td>
    </tr>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="color: #191970;"><strong>Difference-in-Differences Estimation of the ATT</strong></td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Truth">Truth</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Estimate">Estimate</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="CI<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>">CI<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="4" class="gt_group_heading" scope="colgroup" id="E(VL1|A=1)">E(VL1|A=1)</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">All</th>
<td headers="E(VL1|A=1) stub_1_1 Truth" class="gt_row gt_center">0.199</td>
<td headers="E(VL1|A=1) stub_1_1 .estimate" class="gt_row gt_center">0.231</td>
<td headers="E(VL1|A=1) stub_1_1 CI" class="gt_row gt_center">(0.179, 0.282)</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="4" class="gt_group_heading" scope="colgroup" id="EY0A1">EY0A1</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="EY0A1 stub_1_2 Truth" class="gt_row gt_center gt_striped">0.559</td>
<td headers="EY0A1 stub_1_2 .estimate" class="gt_row gt_center gt_striped">0.586</td>
<td headers="EY0A1 stub_1_2 CI" class="gt_row gt_center gt_striped">(0.508, 0.664)</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="EY0A1 stub_1_3 Truth" class="gt_row gt_center">0.559</td>
<td headers="EY0A1 stub_1_3 .estimate" class="gt_row gt_center">0.577</td>
<td headers="EY0A1 stub_1_3 CI" class="gt_row gt_center">(0.498, 0.656)</td></tr>
    <tr><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="EY0A1 stub_1_4 Truth" class="gt_row gt_center gt_striped">0.559</td>
<td headers="EY0A1 stub_1_4 .estimate" class="gt_row gt_center gt_striped">0.592</td>
<td headers="EY0A1 stub_1_4 CI" class="gt_row gt_center gt_striped">(0.513, 0.671)</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="4" class="gt_group_heading" scope="colgroup" id="RD">RD</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="RD stub_1_5 Truth" class="gt_row gt_center">-0.360</td>
<td headers="RD stub_1_5 .estimate" class="gt_row gt_center">-0.355</td>
<td headers="RD stub_1_5 CI" class="gt_row gt_center">(-0.441, -0.27)</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="RD stub_1_6 Truth" class="gt_row gt_center gt_striped">-0.360</td>
<td headers="RD stub_1_6 .estimate" class="gt_row gt_center gt_striped">-0.346</td>
<td headers="RD stub_1_6 CI" class="gt_row gt_center gt_striped">(-0.431, -0.262)</td></tr>
    <tr><th id="stub_1_7" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="RD stub_1_7 Truth" class="gt_row gt_center">-0.360</td>
<td headers="RD stub_1_7 .estimate" class="gt_row gt_center">-0.362</td>
<td headers="RD stub_1_7 CI" class="gt_row gt_center">(-0.447, -0.276)</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="4" class="gt_group_heading" scope="colgroup" id="RR">RR</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_8" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="RR stub_1_8 Truth" class="gt_row gt_center gt_striped">0.356</td>
<td headers="RR stub_1_8 .estimate" class="gt_row gt_center gt_striped">0.394</td>
<td headers="RR stub_1_8 CI" class="gt_row gt_center gt_striped">(0.309, 0.5)</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="RR stub_1_9 Truth" class="gt_row gt_center">0.356</td>
<td headers="RR stub_1_9 .estimate" class="gt_row gt_center">0.400</td>
<td headers="RR stub_1_9 CI" class="gt_row gt_center">(0.315, 0.508)</td></tr>
    <tr><th id="stub_1_10" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="RR stub_1_10 Truth" class="gt_row gt_center gt_striped">0.356</td>
<td headers="RR stub_1_10 .estimate" class="gt_row gt_center gt_striped">0.390</td>
<td headers="RR stub_1_10 CI" class="gt_row gt_center gt_striped">(0.306, 0.496)</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="4" class="gt_group_heading" scope="colgroup" id="OR">OR</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_11" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="OR stub_1_11 Truth" class="gt_row gt_center">0.196</td>
<td headers="OR stub_1_11 .estimate" class="gt_row gt_center">0.212</td>
<td headers="OR stub_1_11 CI" class="gt_row gt_center">(0.142, 0.315)</td></tr>
    <tr><th id="stub_1_12" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="OR stub_1_12 Truth" class="gt_row gt_center gt_striped">0.196</td>
<td headers="OR stub_1_12 .estimate" class="gt_row gt_center gt_striped">0.220</td>
<td headers="OR stub_1_12 CI" class="gt_row gt_center gt_striped">(0.149, 0.325)</td></tr>
    <tr><th id="stub_1_13" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="OR stub_1_13 Truth" class="gt_row gt_center">0.196</td>
<td headers="OR stub_1_13 .estimate" class="gt_row gt_center">0.206</td>
<td headers="OR stub_1_13 CI" class="gt_row gt_center">(0.139, 0.307)</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="4">Fundamentals of Causal Inference, Babette A. Brumback, 2022</td>
    </tr>
  </tfoot>
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="4"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> 95% confidence interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
</div>
</div>
<p>and the results using the <code>fciR</code> package are identical.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>tbl_7<span class="fl">.2</span> <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"Linear"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    dwhatif.did.lin), </span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"Loglinear"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    dwhatif.did.loglin),</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">data.frame</span>(</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">model =</span> <span class="st">"Logistic"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    dwhatif.did.logit))</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="fu">gt_measures_rowgrp</span>(tbl_7<span class="fl">.2</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">rowgroup =</span> <span class="st">"term"</span>,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">rowname =</span> <span class="st">"model"</span>,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Table 7.2&lt;em&gt;(by FL)&lt;/em&gt;"</span>, <span class="st">"Double What-If Study"</span>, <span class="at">sep =</span> <span class="st">"&lt;br&gt;"</span>), </span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Difference-in-Differences Estimation of the ATT"</span>,</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>                     <span class="at">sep =</span> <span class="st">"&lt;br&gt;"</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">

<div id="cbzfsyahxp" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>#cbzfsyahxp table {
  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#cbzfsyahxp thead, #cbzfsyahxp tbody, #cbzfsyahxp tfoot, #cbzfsyahxp tr, #cbzfsyahxp td, #cbzfsyahxp th {
  border-style: none;
}

#cbzfsyahxp p {
  margin: 0;
  padding: 0;
}

#cbzfsyahxp .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#cbzfsyahxp .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#cbzfsyahxp .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#cbzfsyahxp .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: bold;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#cbzfsyahxp .gt_heading {
  background-color: #DCDCDC;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cbzfsyahxp .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cbzfsyahxp .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#cbzfsyahxp .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#cbzfsyahxp .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#cbzfsyahxp .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#cbzfsyahxp .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#cbzfsyahxp .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#cbzfsyahxp .gt_spanner_row {
  border-bottom-style: hidden;
}

#cbzfsyahxp .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#cbzfsyahxp .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: bold;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#cbzfsyahxp .gt_from_md > :first-child {
  margin-top: 0;
}

#cbzfsyahxp .gt_from_md > :last-child {
  margin-bottom: 0;
}

#cbzfsyahxp .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#cbzfsyahxp .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#cbzfsyahxp .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#cbzfsyahxp .gt_row_group_first td {
  border-top-width: 2px;
}

#cbzfsyahxp .gt_row_group_first th {
  border-top-width: 2px;
}

#cbzfsyahxp .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cbzfsyahxp .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#cbzfsyahxp .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#cbzfsyahxp .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cbzfsyahxp .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#cbzfsyahxp .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#cbzfsyahxp .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#cbzfsyahxp .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#cbzfsyahxp .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#cbzfsyahxp .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cbzfsyahxp .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cbzfsyahxp .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#cbzfsyahxp .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#cbzfsyahxp .gt_left {
  text-align: left;
}

#cbzfsyahxp .gt_center {
  text-align: center;
}

#cbzfsyahxp .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#cbzfsyahxp .gt_font_normal {
  font-weight: normal;
}

#cbzfsyahxp .gt_font_bold {
  font-weight: bold;
}

#cbzfsyahxp .gt_font_italic {
  font-style: italic;
}

#cbzfsyahxp .gt_super {
  font-size: 65%;
}

#cbzfsyahxp .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#cbzfsyahxp .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#cbzfsyahxp .gt_indent_1 {
  text-indent: 5px;
}

#cbzfsyahxp .gt_indent_2 {
  text-indent: 10px;
}

#cbzfsyahxp .gt_indent_3 {
  text-indent: 15px;
}

#cbzfsyahxp .gt_indent_4 {
  text-indent: 20px;
}

#cbzfsyahxp .gt_indent_5 {
  text-indent: 25px;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_title gt_font_normal" style="color: #191970;"><strong>Table 7.2<em>(by FL)</em><br>Double What-If Study</strong></td>
    </tr>
    <tr class="gt_heading">
      <td colspan="3" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style="color: #191970;"><strong>Difference-in-Differences Estimation of the ATT</strong></td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" scope="col" id=""></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="CI<span class=&quot;gt_footnote_marks&quot; style=&quot;white-space:nowrap;font-style:italic;font-weight:normal;&quot;><sup>1</sup></span>">CI<span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span></th>
      <th class="gt_col_heading gt_columns_bottom_border gt_center" rowspan="1" colspan="1" scope="col" id="Estimate">Estimate</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="EY0A1">EY0A1</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_1" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="EY0A1 stub_1_1 CI" class="gt_row gt_center">(0.499, 0.644)</td>
<td headers="EY0A1 stub_1_1 .estimate" class="gt_row gt_center">0.577</td></tr>
    <tr><th id="stub_1_2" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="EY0A1 stub_1_2 CI" class="gt_row gt_center gt_striped">(0.52, 0.653)</td>
<td headers="EY0A1 stub_1_2 .estimate" class="gt_row gt_center gt_striped">0.584</td></tr>
    <tr><th id="stub_1_3" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="EY0A1 stub_1_3 CI" class="gt_row gt_center">(0.508, 0.68)</td>
<td headers="EY0A1 stub_1_3 .estimate" class="gt_row gt_center">0.592</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="EY1">EY1</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_4" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="EY1 stub_1_4 CI" class="gt_row gt_center gt_striped">(0.186, 0.285)</td>
<td headers="EY1 stub_1_4 .estimate" class="gt_row gt_center gt_striped">0.233</td></tr>
    <tr><th id="stub_1_5" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="EY1 stub_1_5 CI" class="gt_row gt_center">(0.179, 0.277)</td>
<td headers="EY1 stub_1_5 .estimate" class="gt_row gt_center">0.231</td></tr>
    <tr><th id="stub_1_6" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="EY1 stub_1_6 CI" class="gt_row gt_center gt_striped">(0.184, 0.28)</td>
<td headers="EY1 stub_1_6 .estimate" class="gt_row gt_center gt_striped">0.236</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="RD">RD</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_7" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="RD stub_1_7 CI" class="gt_row gt_center">(-0.431, -0.267)</td>
<td headers="RD stub_1_7 .estimate" class="gt_row gt_center">-0.344</td></tr>
    <tr><th id="stub_1_8" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="RD stub_1_8 CI" class="gt_row gt_center gt_striped">(-0.427, -0.273)</td>
<td headers="RD stub_1_8 .estimate" class="gt_row gt_center gt_striped">-0.353</td></tr>
    <tr><th id="stub_1_9" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="RD stub_1_9 CI" class="gt_row gt_center">(-0.441, -0.265)</td>
<td headers="RD stub_1_9 .estimate" class="gt_row gt_center">-0.356</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="RR">RR</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_10" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="RR stub_1_10 CI" class="gt_row gt_center gt_striped">(0.306, 0.494)</td>
<td headers="RR stub_1_10 .estimate" class="gt_row gt_center gt_striped">0.402</td></tr>
    <tr><th id="stub_1_11" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="RR stub_1_11 CI" class="gt_row gt_center">(0.308, 0.5)</td>
<td headers="RR stub_1_11 .estimate" class="gt_row gt_center">0.394</td></tr>
    <tr><th id="stub_1_12" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="RR stub_1_12 CI" class="gt_row gt_center gt_striped">(0.315, 0.499)</td>
<td headers="RR stub_1_12 .estimate" class="gt_row gt_center gt_striped">0.397</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="RR*">RR*</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_13" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="RR* stub_1_13 CI" class="gt_row gt_center">(0.448, 0.65)</td>
<td headers="RR* stub_1_13 .estimate" class="gt_row gt_center">0.549</td></tr>
    <tr><th id="stub_1_14" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="RR* stub_1_14 CI" class="gt_row gt_center gt_striped">(0.451, 0.627)</td>
<td headers="RR* stub_1_14 .estimate" class="gt_row gt_center gt_striped">0.540</td></tr>
    <tr><th id="stub_1_15" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="RR* stub_1_15 CI" class="gt_row gt_center">(0.424, 0.641)</td>
<td headers="RR* stub_1_15 .estimate" class="gt_row gt_center">0.531</td></tr>
    <tr class="gt_group_heading_row">
      <th colspan="3" class="gt_group_heading" scope="colgroup" id="OR">OR</th>
    </tr>
    <tr class="gt_row_group_first"><th id="stub_1_16" scope="row" class="gt_row gt_center gt_stub">Linear</th>
<td headers="OR stub_1_16 CI" class="gt_row gt_center gt_striped">(0.148, 0.311)</td>
<td headers="OR stub_1_16 .estimate" class="gt_row gt_center gt_striped">0.221</td></tr>
    <tr><th id="stub_1_17" scope="row" class="gt_row gt_center gt_stub">Loglinear</th>
<td headers="OR stub_1_17 CI" class="gt_row gt_center">(0.148, 0.311)</td>
<td headers="OR stub_1_17 .estimate" class="gt_row gt_center">0.213</td></tr>
    <tr><th id="stub_1_18" scope="row" class="gt_row gt_center gt_stub">Logistic</th>
<td headers="OR stub_1_18 CI" class="gt_row gt_center gt_striped">(0.145, 0.32)</td>
<td headers="OR stub_1_18 .estimate" class="gt_row gt_center gt_striped">0.211</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="3">Fundamentals of Causal Inference, Babette A. Brumback, 2022</td>
    </tr>
  </tfoot>
  <tfoot class="gt_footnotes">
    <tr>
      <td class="gt_footnote" colspan="3"><span class="gt_footnote_marks" style="white-space:nowrap;font-style:italic;font-weight:normal;"><sup>1</sup></span> 95% confidence interval</td>
    </tr>
  </tfoot>
</table>
</div>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>fciR<span class="sc">::</span><span class="fu">ggp_measures_groups</span>(tbl_7<span class="fl">.2</span>, <span class="at">group =</span> <span class="st">"model"</span>, </span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">title =</span> <span class="fu">paste</span>(<span class="st">"Table 7.2"</span>, <span class="st">"Double What-If Study"</span>),</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">subtitle =</span> <span class="fu">paste</span>(<span class="st">"Difference-in-Differences Estimation of the ATT"</span>,</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>                                     <span class="at">sep =</span> <span class="st">"&lt;br&gt;"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="ch07_did_files/figure-html/unnamed-chunk-7-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./ch06_backdoor.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Backdoor Method via Standardization</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./ch08_frontdoor.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Front-Door Method</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>